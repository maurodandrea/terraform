name: test var
on:
  workflow_dispatch:
    inputs:
      tenant:
        description: 'The tenant inherent to the site'
        type: string
        required: true

# These permissions are needed to interact with GitHub's OIDC Token endpoint.
permissions:
  id-token: write
  contents: read

jobs:
  manual_deploy:
    #strategy:
     # matrix:
     #   include:
     #     - tenant:  ${{ inputs.tenant }}
      #      cdnvar: vars.CDN_PATH_$tenant
     #       cdn_path: ${{ matrix.include.cdnvar }}
    name: manual trigger
    if: github.event_name == 'workflow_dispatch'
    runs-on: 'ubuntu-latest'

    concurrency:
      group: ${{ github.workflow }}-${{ inputs.environment }}
      cancel-in-progress: false

    steps:
      - name: Set Variabile CDN_PATH
        id: estrai_valore
       # run: echo "cdn_path = ${{ vars.cdn_path${{ inputs.tenant }} }}" 
        run: echo "::set-output name=cdn_path::${{ inputs.tenant }}"

      - name: Utilizza il valore estratto
        run: echo "Il valore della variabile di contesto è ${{ steps.estrai_valore.outputs.cdn_path }}"

      - name: iff
        if: ${{ github.event.inputs.tenant == 'A' }}
        run: echo "Il valore della variabile di contesto è ${{vars.CDN_PATH_A }}"
        

